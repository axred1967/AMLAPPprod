<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>Tax</title>
    <meta name="description" content="">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:100,300,400,500" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="css/animsition.css">
    <link rel="stylesheet" type="text/css" href="css/sweetalert.css">
    <link rel="stylesheet" href="css/material.css">
<!--    <link rel="stylesheet" href="css/mdl-currency.min.css"> --->
    <link rel="stylesheet" href="css/swipebox.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/stylesheet.css">
    <script src="js/jquery-2.1.4.min.js"></script>
     <script type="text/javascript" src="js/custom.js"></script>
     <script src="js/add_contract.js"></script>
     <script type="text/javascript">$(document).ready(function(){app.initialize();});</script>
     <script src="js/animsition.js"></script>
     <script src="js/sweetalert.min.js"></script>
     <script src="js/material.min.js"></script>
     <script src="js/jquery.swipebox.min.js"></script>
     <script src="js/function.js"></script>
     <script src="js/angular.min.js"></script>
     <script src="js/angular-route.min.js"></script>
    <script>
    langfile = localStorage.getItem("language");
    if (langfile == 'en')
        document.write('<scri' + 'pt src="js/enlang.js"></' + 'script>');
    else
        document.write('<scri' + 'pt src="js/itlang.js"></' + 'script>');
    if(langfile ==  "en"){
//             $.getScript("js/i18n/angular-locale_en.js");
         document.write('<scri' + 'pt src="js/i18n/angular-locale_en.js"></' + 'script>');
     }
     else{
//             $.getScript("js/i18n/angular-locale_it.js");
         document.write('<scri' + 'pt src="js/i18n/angular-locale_it.js"></' + 'script>');
     }
    </script>
    <script src="js/ng-input-currency.js"></script>
    <script src="js/add_contract_ang.js"></script>
  </head>
  <body>
  <style>
      .tsap_SelectPhoto
      {
          background-color: #4A4A4A;
          color: #FFF;
          display: block;
          width: 180px;
          margin: auto;
          height: 47px;
          line-height: 46px;
          font-size: 18px;
          border: 1px solid #4A4A4A;
          border-radius: 7px;
          transition: all 0.2s ease 0s;
          text-align: center;
      }
  </style>
    <div ng-app="myApp" ng-controller="personCtrl" class="animsition">
      <!-- Page Content -->
      <main class="mdl-layout__content">
        <div class=""> <!-- card -->
        	 <div class="account-info dark-blue-bg">
                <div class="account-navigation"> <!-- top icons -->
                  <a class="mdl-button mdl-js-button mdl-button--icon left" href="javascript:;" ng-click="back()">
                    <img src="img/back-button.png">
                  </a>
                 <!-- <button class="mdl-button mdl-js-button mdl-button--icon right">
                    <i class="material-icons">close</i>
                  </button> -->
                  <span class="main-heading">{{viewName}}</span>
                  <div class="clr"></div>
                  </div>
              </div>


          <div class="account-data add-customer-data"> <!-- text fields -->
          	<div class="mdl-card mdl-shadow--2dp ">
              <form action="#">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">
                      <input class="mdl-textfield__input" ng-model="Contract.scope_contract" type="text" ng-keyup="showAC($event,'contract');" placeholder="{{datalang.ScopeofContract}}" id="scope_contract" />
                      <label for="scope_contract" class="mdl-textfield__label" style="color:orange;display:none">{{datalang.ScopeofContract}}</label>
                      <table class="mdl-data-table mdl-js-data-table  border-none  ">
                      <tbody style="display:table">
                        <tr ng-click="addWord('scope_contract',item.word)" ng-repeat="item in word.scope_contract">
                          <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.word}}</td>
                        </tr>
                      </tbody>
                      </table>
                    </div>
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">
                    <input  class="mdl-textfield__input" ng-model="Contract.nature_contract" type="text"  ng-keyup="showAC($event,'contract');" placeholder="{{datalang.NatureofContract}}" id="nature_contract" />
                    <label for="nature_contract" class="mdl-textfield__label" style="color:orange;display:none">{{datalang.NatureofContract}}</label>
                    <table class="mdl-data-table mdl-js-data-table  border-none  ">
                    <tbody style="display:table">
                      <tr ng-click="addWord('nature_contract',item.word)" ng-repeat="item in word.nature_contract">
                        <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.word}}</td>
                      </tr>
                    </tbody>
                    </table>
                  </div>
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">
                    <input class="mdl-textfield__input" type="text" ng-model="Contract.contract_date" placeholder="{{datalang.ContractDate}}" onfocus="(this.type='date')" onblur="(this.type='text')" id="ContractDate" />
                    <label for="ContractDate" class="mdl-textfield__label" style="color:orange;display:none"  >{{datalang.ContractDate}}</label>
                  </div>
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">
                    <input class="mdl-textfield__input"  onfocus="(this.type='date')"  ng-model="Contract.contract_eov" onblur="(this.type='text')" type="text" placeholder="{{datalang.ContractEOV}}" id="ContractEOV" />
                    <label for="ContractEOV" class="mdl-textfield__label" style="color:orange;display:none">{{datalang.ContractEOV}}</label>
                  </div>
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo ">
                    <input ng-input-currency class="mdl-textfield__input " ng-model="Contract.contract_value " type="text" id="ContractValue"  placeholder="{{datalang.EconomicValueifDeterminable}}">
                    <label  for="ContractValue" class="mdl-textfield__label" style="color:orange;display:none">{{datalang.EconomicValueifDeterminable}}</label>
                </div>

                <div class="mdl-grid">

                <div class="mdl-card mdl-shadow--2dp" >
                  <div class="mdl-card__title">Immagine Contratto</div>
                  <input type="hidden" id="doc_image" >
                  <div class="mdl-card__actions mdl-card--border">

                  <div class="mdl-layout-spacer"></div>
                    <button class="mdl-button mdl-button--icon mdl-button--colored" onclick="add_photo()" ><i class="material-icons">add_a_photo</i></button>
                    <button class="mdl-button mdl-button--icon mdl-button--colored" onclick="uploadfromgallery()" ><i class="material-icons">insert_photo</i></button>
                  </div>
                </div>
              </div>

                 <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo" style="margin-top:5px;">
                    <label  for="searchContractor" class="mdl-textfield__label" style="color:orange;display:none">{{datalang.SearchCustomerByEmail}}</label>
                    <input class="mdl-textfield__input" ng-keyup="showContractorList();" ng-model="Contract.fullname"  type="text" placeholder=" {{datalang.SearchCustomerByEmail}}" id="searchContractor" />
                    <input type="text" ng-model="Contract.contractor_id" style="display:none" id="Contractor" />
                  </div>
                  <table class="mdl-data-table mdl-js-data-table  border-none  ">
                  <tbody>
                    <tr ng-click="addContractorItem(item.user_id,item.fullname)" ng-repeat="item in list">
                      <td style="display:none" >{{item.user_id}}</td>
                      <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.fullname}}</td>
                      <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.email}}</td>
                    </tr>
                  </tbody>
                  </table>
                  <div style="width:100%">
                  <a style="float:right" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="add_customer()" >Aggiungi</a>
                </div>


                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo" style="margin-top:5px;">

                <div class="mdl-grid">
                  <div class="mdl-cell ">
                        <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-1">
                          <input type="radio" id="option-1" ng-model="Contract.act_for_other" class="mdl-radio__button" name="act_for" value="0" checked>
                          <span class="mdl-radio__label" ng-bind="datalang.actForHimself"></span>
                        </label>
                    </div>

                  <div class="mdl-cell">
                        <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-2">
                          <input type="radio" id="option-2" ng-model="Contract.act_for_other" class="mdl-radio__button" name="act_for" value="1" >
                          <span class="mdl-radio__label" ng-bind="datalang.actForCompany"></span>
                        </label>
                </div>
                <div class="mdl-cell">
                        <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-3">
                          <input type="radio" id="option-3" ng-model="Contract.act_for_other" class="mdl-radio__button" name="act_for" value="2">
                          <span class="mdl-radio__label" ng-bind="datalang.actForOtherPerson"></span>
                        </label>
                </div>
                </div>
              </div>
              <div id="show_Role" style="width:100%" ng-show="Contract.act_for_other>0">

              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">
                <input class="mdl-textfield__input" type="text" ng-model="Contract.role_for_other" ng-keyup="showAC($event,'contract');" placeholder=" {{datalang.kindofDelegation}}" id="role_for_other" />
                <label for="user_role" class="mdl-textfield__label" style="color:orange;display:none">{{datalang.kindofDelegation}}</label>
                <table class="mdl-data-table mdl-js-data-table  border-none  ">
                <tbody style="display:table">
                  <tr ng-click="addWord('role_for_oher',item.word)" ng-repeat="item in word.role_for_other">
                    <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.word}}</td>
                  </tr>
                </tbody>
                </table>
              </div>
            </div>

                  <div id="show_forCompany" ng-show="Contract.act_for_other==1" style="width:100%">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">
                      <label class="mdl-textfield__label" for="FindCompany" style="color:orange;display:none">{{datalang.SearchCompanyByEmail}}</label>
                      <input class="mdl-textfield__input" ng-keyup="showCompanyList();" ng-model="Contract.name" type="text" placeholder=" {{datalang.SearchCompanyByEmail}}" id="FindCompany" />
                      <input ng-model="Contract.company_id"  type="text" style="display:none" id="Company" />
                    </div>
                    <table class="mdl-data-table mdl-js-data-table  border-none  ">
                    <tbody>
                      <tr ng-click="addCompanyItem(item)" ng-repeat="item in listCompany">
                        <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.name}}</td>
                        <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.fiscal_id}}</td>
                      </tr>
                    </tbody>
                    </table>
                    <div style="width:100%">
                    <a style="float:right" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="add_company()" >  {{datalang.addNewCompany}}</a>
                  </div>

                  </div>


                <div id="show_forPerson" ng-show="Contract.act_for_other==2" style="width:100%">
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-demo">
                    <label class="mdl-textfield__label" for="FindOther" style="color:orange;display:none">{{datalang.SearchDelegatorByEmail}}</label>
                    <input class="mdl-textfield__input" ng-keyup="showOtherList();" ng-model="Contract.other_name" type="text" placeholder=" {{datalang.SearchDelegatorByEmail}}" id="FindOther" />
                    <input ng-model="Contract.user_id"  type="text" style="display:none" id="other_id" />
                  </div>
                  <table class="mdl-data-table mdl-js-data-table  border-none  ">
                  <tbody>
                    <tr ng-click="addOtherItem(item)" ng-repeat="item in listOther">
                      <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.fullname}}</td>
                      <td class="mdl-data-table__cell--non-numeric">&nbsp;{{item.email}}</td>
                    </tr>
                  </tbody>
                  </table>
                  <div style="width:100%">
                  <a style="float:right" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="add_other()" >   {{datalang.addNewOtherPerson}}</a>
                  </div>


                </div>

              </form>

    			<div style="clear:both" class="center-align">
                    <a id="save_button_cust" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary orange-btn" ng-click="add_contract()" href="javascript:;">
                      {{datalang.Save}}
                    </a>
                    <a id="cancel_button_cust" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--primary blue-btn" onclick="redirect(back)" href="javascript:;">
                      {{datalang.Cancel}}
                    </a>
                     <img style="height:50px;width:50px;display:none;" id="loader_img" src="img/loader2.gif"  >
            </div>
          </div>
             </div>
            <div class="clr"></div>

          </div>

        </div>
      </main>
    </div>
<script>
$('#check_actForOther').change(function () {
   if (this.checked) {
       $('#show_actForOther').show();
   } else {
       $('#show_actForOther').hide();
  }
});

 $("[name=act_for]").change(function(){
   switch ($(this).val()){
     case "1":
     $('#show_forCompany').show();
      $('#show_forPerson').hide();
      $('#show_Role').show();
     break;
     case "2":
     $('#show_Role').show();
     $('#show_forCompany').hide();
      $('#show_forPerson').show();
     break;
     default:
     $('#show_Role').hide();
     $('#show_forCompany').hide();
      $('#show_forPerson').hide();

     }
});
$(".mdl-textfield__input").focus(function(){
  $('label[for="'+$(this).attr("id") +'"]').show()
});
$(".mdl-textfield__input").blur(function(){
  $('label[for="'+$(this).attr("id") +'"]').hide()
});
</script>


  </body>
</html>
